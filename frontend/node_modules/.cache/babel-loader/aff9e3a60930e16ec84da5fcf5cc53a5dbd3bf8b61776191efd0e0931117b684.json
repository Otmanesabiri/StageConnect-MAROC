{"ast":null,"code":"var _jsxFileName = \"/home/red/Documents/find_internship/frontend/src/pages/DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport { API_URL } from '../config';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [userRole, setUserRole] = useState('');\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n\n        // Fetch user role\n        const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n        setUserRole(userInfo.role);\n\n        // Fetch dashboard stats\n        const endpoint = userInfo.role === 'student' ? `${API_URL}/students/dashboard` : `${API_URL}/companies/dashboard`;\n        const {\n          data\n        } = await axios.get(endpoint, config);\n        setStats(data);\n      } catch (error) {\n        toast.error('Erreur lors du chargement des données du tableau de bord');\n      }\n    };\n    fetchDashboardData();\n  }, []);\n  if (!stats) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Chargement...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  const chartData = {\n    labels: ['En attente', 'Acceptées', 'Rejetées', 'Entretiens'],\n    datasets: [{\n      label: 'Statut des candidatures',\n      data: [stats.pending || 0, stats.accepted || 0, stats.rejected || 0, stats.interviews || 0],\n      backgroundColor: ['rgba(255, 206, 86, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(255, 99, 132, 0.6)', 'rgba(54, 162, 235, 0.6)']\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Tableau de Bord\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Total des candidatures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"display-4 text-primary\",\n              children: stats.totalApplications\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Profil Compl\\xE9t\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"display-4 text-success\",\n              children: stats.profileCompleted ? 'Oui' : 'Non'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Statistiques des candidatures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              data: chartData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"WgivBEZJI1abyJfHGu9/WjA63f0=\");\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","toast","axios","API_URL","Bar","jsxDEV","_jsxDEV","DashboardPage","_s","stats","setStats","userRole","setUserRole","fetchDashboardData","token","localStorage","getItem","config","headers","Authorization","userInfo","JSON","parse","role","endpoint","data","get","error","children","fileName","_jsxFileName","lineNumber","columnNumber","chartData","labels","datasets","label","pending","accepted","rejected","interviews","backgroundColor","className","md","Body","totalApplications","profileCompleted","_c","$RefreshReg$"],"sources":["/home/red/Documents/find_internship/frontend/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport { API_URL } from '../config';\nimport { Bar } from 'react-chartjs-2';\n\nconst DashboardPage = () => {\n  const [stats, setStats] = useState(null);\n  const [userRole, setUserRole] = useState('');\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        };\n\n        // Fetch user role\n        const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n        setUserRole(userInfo.role);\n\n        // Fetch dashboard stats\n        const endpoint =\n          userInfo.role === 'student'\n            ? `${API_URL}/students/dashboard`\n            : `${API_URL}/companies/dashboard`;\n\n        const { data } = await axios.get(endpoint, config);\n        setStats(data);\n      } catch (error) {\n        toast.error('Erreur lors du chargement des données du tableau de bord');\n      }\n    };\n\n    fetchDashboardData();\n  }, []);\n\n  if (!stats) {\n    return <p>Chargement...</p>;\n  }\n\n  const chartData = {\n    labels: ['En attente', 'Acceptées', 'Rejetées', 'Entretiens'],\n    datasets: [\n      {\n        label: 'Statut des candidatures',\n        data: [\n          stats.pending || 0,\n          stats.accepted || 0,\n          stats.rejected || 0,\n          stats.interviews || 0,\n        ],\n        backgroundColor: [\n          'rgba(255, 206, 86, 0.6)',\n          'rgba(75, 192, 192, 0.6)',\n          'rgba(255, 99, 132, 0.6)',\n          'rgba(54, 162, 235, 0.6)',\n        ],\n      },\n    ],\n  };\n\n  return (\n    <Container className=\"py-4\">\n      <h2 className=\"mb-4\">Tableau de Bord</h2>\n      <Row>\n        <Col md={6} className=\"mb-4\">\n          <Card className=\"shadow-sm\">\n            <Card.Body>\n              <h5>Total des candidatures</h5>\n              <p className=\"display-4 text-primary\">{stats.totalApplications}</p>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={6} className=\"mb-4\">\n          <Card className=\"shadow-sm\">\n            <Card.Body>\n              <h5>Profil Complété</h5>\n              <p className=\"display-4 text-success\">\n                {stats.profileCompleted ? 'Oui' : 'Non'}\n              </p>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col md={12} className=\"mb-4\">\n          <Card className=\"shadow-sm\">\n            <Card.Body>\n              <h5>Statistiques des candidatures</h5>\n              <Bar data={chartData} />\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default DashboardPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAC3D,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,WAAW;AACnC,SAASC,GAAG,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMiB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,MAAM,GAAG;UACbC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUL,KAAK;UAChC;QACF,CAAC;;QAED;QACA,MAAMM,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC7DJ,WAAW,CAACQ,QAAQ,CAACG,IAAI,CAAC;;QAE1B;QACA,MAAMC,QAAQ,GACZJ,QAAQ,CAACG,IAAI,KAAK,SAAS,GACvB,GAAGpB,OAAO,qBAAqB,GAC/B,GAAGA,OAAO,sBAAsB;QAEtC,MAAM;UAAEsB;QAAK,CAAC,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAACF,QAAQ,EAAEP,MAAM,CAAC;QAClDP,QAAQ,CAACe,IAAI,CAAC;MAChB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACd1B,KAAK,CAAC0B,KAAK,CAAC,0DAA0D,CAAC;MACzE;IACF,CAAC;IAEDd,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACJ,KAAK,EAAE;IACV,oBAAOH,OAAA;MAAAsB,QAAA,EAAG;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAC7B;EAEA,MAAMC,SAAS,GAAG;IAChBC,MAAM,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,YAAY,CAAC;IAC7DC,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,yBAAyB;MAChCX,IAAI,EAAE,CACJhB,KAAK,CAAC4B,OAAO,IAAI,CAAC,EAClB5B,KAAK,CAAC6B,QAAQ,IAAI,CAAC,EACnB7B,KAAK,CAAC8B,QAAQ,IAAI,CAAC,EACnB9B,KAAK,CAAC+B,UAAU,IAAI,CAAC,CACtB;MACDC,eAAe,EAAE,CACf,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB,EACzB,yBAAyB;IAE7B,CAAC;EAEL,CAAC;EAED,oBACEnC,OAAA,CAACT,SAAS;IAAC6C,SAAS,EAAC,MAAM;IAAAd,QAAA,gBACzBtB,OAAA;MAAIoC,SAAS,EAAC,MAAM;MAAAd,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzC1B,OAAA,CAACR,GAAG;MAAA8B,QAAA,gBACFtB,OAAA,CAACP,GAAG;QAAC4C,EAAE,EAAE,CAAE;QAACD,SAAS,EAAC,MAAM;QAAAd,QAAA,eAC1BtB,OAAA,CAACN,IAAI;UAAC0C,SAAS,EAAC,WAAW;UAAAd,QAAA,eACzBtB,OAAA,CAACN,IAAI,CAAC4C,IAAI;YAAAhB,QAAA,gBACRtB,OAAA;cAAAsB,QAAA,EAAI;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/B1B,OAAA;cAAGoC,SAAS,EAAC,wBAAwB;cAAAd,QAAA,EAAEnB,KAAK,CAACoC;YAAiB;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACN1B,OAAA,CAACP,GAAG;QAAC4C,EAAE,EAAE,CAAE;QAACD,SAAS,EAAC,MAAM;QAAAd,QAAA,eAC1BtB,OAAA,CAACN,IAAI;UAAC0C,SAAS,EAAC,WAAW;UAAAd,QAAA,eACzBtB,OAAA,CAACN,IAAI,CAAC4C,IAAI;YAAAhB,QAAA,gBACRtB,OAAA;cAAAsB,QAAA,EAAI;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxB1B,OAAA;cAAGoC,SAAS,EAAC,wBAAwB;cAAAd,QAAA,EAClCnB,KAAK,CAACqC,gBAAgB,GAAG,KAAK,GAAG;YAAK;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACN1B,OAAA,CAACR,GAAG;MAAA8B,QAAA,eACFtB,OAAA,CAACP,GAAG;QAAC4C,EAAE,EAAE,EAAG;QAACD,SAAS,EAAC,MAAM;QAAAd,QAAA,eAC3BtB,OAAA,CAACN,IAAI;UAAC0C,SAAS,EAAC,WAAW;UAAAd,QAAA,eACzBtB,OAAA,CAACN,IAAI,CAAC4C,IAAI;YAAAhB,QAAA,gBACRtB,OAAA;cAAAsB,QAAA,EAAI;YAA6B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtC1B,OAAA,CAACF,GAAG;cAACqB,IAAI,EAAEQ;YAAU;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB,CAAC;AAACxB,EAAA,CA9FID,aAAa;AAAAwC,EAAA,GAAbxC,aAAa;AAgGnB,eAAeA,aAAa;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}